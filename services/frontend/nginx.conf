server {
    listen 80;
    server_name localhost;
    
    root /usr/share/nginx/html;
    index index.html;

    # --- THIS IS THE FIX ---
    # Apply cache-busting headers to ALL responses from this server
    add_header 'Cache-Control' 'no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0';
    expires off;
    etag off;
    # --- END OF FIX ---

    # This rule ensures that if a file isn't found,
    # the index.html is served (good for React/Vue later)
    location / {
        try_files $uri $uri/ /index.html;
    }
}